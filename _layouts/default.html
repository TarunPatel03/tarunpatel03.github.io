<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ page.title }} | Tarun Himanshu Patel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}" />
</head>
<body class="{% if page.vanta %}home-body{% endif %}">
  {% include navbar.html %}

  {% if page.vanta %}
    <!-- Vanta attaches here -->
    <div id="vanta-bg" aria-hidden="true"></div>
  {% endif %}

  <!-- Page content -->
  <div class="page-wrap">
    <div class="container">
      {{ content }}
    </div>
  </div>

  {% if page.vanta %}
    <!-- JS: three.js before vanta -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        if (window.VANTA && document.getElementById('vanta-bg')) {
          if (window.__vanta) { try { window.__vanta.destroy(); } catch(e){} }
          window.__vanta = VANTA.NET({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.0,
            minWidth: 200.0,
            scale: 1.0,
            scaleMobile: 1.0
            // Optional theme tweaks:
            // color: 0x03a9f4,
            // backgroundColor: 0x0d1b2a,
            // points: 12.0,
            // maxDistance: 20.0,
            // spacing: 16.0
          });
        }
      });

      window.addEventListener('beforeunload', function () {
        if (window.__vanta) { try { window.__vanta.destroy(); } catch(e){} }
      });
    </script>
  {% endif %}
</body>
</html>
